trigger:
  branches:
    include:
      - '*'

resources:
  repositories:
  - repository: azure-pipelines-spfx-templates
    type: github
    name: manbhar/azure-pipelines-spfx-templates
    endpoint: Manish-github

variables:
    working_directory: '.'


steps:
  ##########################################
  ## specify which node version to use
  ##########################################
  - task: UseNode@1
    displayName: Set to Node.js 10.x 
    inputs:
      version: '10.x'
    
  ##########################################
  ## install dependencies using specified
  ##    package manager
  ##########################################
  - script: npm ci
    displayName: Install dependencies (with NPM)
    workingDirectory: $(working_directory)

  ##########################################
  ## execute: gulp build
  ##########################################
  - task: Gulp@1
    displayName: SPFx build
    inputs:
      gulpFile: $(working_directory)/gulpfile.js
      workingDirectory: $(working_directory)